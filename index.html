<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Modrinth Pack to Zip Converter</title>

	<link rel="stylesheet" href="./assets/css/bulma.min.css">
</head>
<body>

<nav class="navbar is-dark" role="navigation" aria-label="main navigation">
	<div class="navbar-brand">
		<span class="navbar-item">
			Modrinth Pack to Zip Converter
		</span>
	</div>
</nav>	

<section class="section">
	<div class="container centre">

		<h3 class="subtitle is-bold">Download latest from project</h3>

		<ol>
			<li>Go to a Modrinth project</li>
			<li>Copy <b>project ID</b></li>
			<li>Click the Download button</li>
			<li>Wait for the pack ZIP to be downloaded</li>
			<li><b>Note:</b> If you get multiple downloads - a ZIP and JAR(s), then you must move the JAR(s) to the ZIP <i>mods</i> folder manually.</li>
		</ol>

		<hr>
		<input
				id="id-input"
				class="input"
				type="text"
				placeholder="Modrinth project ID">

		<button class="button" onclick="downloadLatestButton()">
			<span class="icon">
		    	<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
					<path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
				</svg>
			</span>

			<span>Download</span>
		</button>
		<button class="button" onclick="window.location.href = 'https://download.fo/vanilla'">
			<span class="icon">
				<img src="https://cdn.modrinth.com/data/1KVo5zza/d8152911f8fd5d7e9a8c499fe89045af81fe816e.png" alt="Fabulously Optimized">
			</span>

			<span>Download Fabulously Optimized</span>
		</button>

	</div>
</section>
<section class="section">
	<div class="container centre">

		<h3 class="subtitle is-bold">Download from URL</h3>

		<ol>
			<li>Go to a Modrinth project</li>
			<li>Right click and copy the address of <b>the green download button</b></li>
			<li>Click the Download button</li>
			<li>Wait for the pack ZIP to be downloaded</li>
			<li><b>Note:</b> If you get multiple downloads - a ZIP and JAR(s), then you must move the JAR(s) to the ZIP <i>mods</i> folder manually.</li>
		</ol>

		<hr>
		<input
				id="url-input"
				class="input"
				type="text"
				placeholder="mrpack download URL">

		<button class="button" onclick="downloadButton()">
			<span class="icon">
		    	<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
					<path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
				</svg>
			</span>

			<span>Download</span>
		</button>

	</div>
</section>
<section class="section">
	<div class="container centre">

		<h3 class="subtitle is-bold">Use existing mrpack</h3>

		<ol>
			<li>"Upload" a mrpack (actually processed within your computer)</li>
			<li>Click the Download button</li>
			<li>Wait for the pack ZIP to be downloaded</li>
			<li><b>Note:</b> If you get multiple downloads - a ZIP and JAR(s), then you must move the JAR(s) to the ZIP <i>mods</i> folder manually.</li>
		</ol>

		<hr>
		
		<div class="file has-name is-boxed">
			<label class="file-label">
				<input
					id="file-input"
					class="file-input"
					type="file"
					name="resume"
					accept=".mrpack"
					onchange="updateFileName()">

				<span class="file-cta">
					<span class="file-icon">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
							<path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
						</svg>
					</span>
					<span class="file-label">
						Choose a fileâ€¦
					</span>
				</span>
				<span id="file-name" class="file-name">
					No file selected
				</span>
			</label>
		</div>

		<br>

		<button class="button" onclick="downloadLocalButton()">
			<span class="icon">
		    	<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
					<path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
				</svg>
			</span>

			<span>Download</span>
		</button>

	</div>
</section>

<footer class="footer">
	<div class="content">
		<p>You can also append <code>?project=fo</code>, <code>?project=(project ID)</code> or <code>?url=(url to mrpack)</code> parameters to the URL to download directly.</p>
		<p>Technical details: due to CORS, some linked mods that are hosted outside Modrinth may not properly download.</p>
		<p><a href="https://github.com/Fabulously-Optimized/mrpack-to-zip">Source code</a></p>
	</div>
</footer>

<div id="loading-modal" class="modal">
	<div class="modal-background"></div>
	<div class="modal-card">
		<header class="modal-card-head">
			<p class="modal-card-title">Downloading pack</p>
		</header>
		<section class="modal-card-body">
			<p>
				Files required for the modpack are currently being downloaded, please wait.
			</p>
		</section>
		<footer class="modal-card-foot">
			<progress id="loading-progress" class="progress is-primary" value="0" max="100">0%</progress>
		</footer>
	</div>
</div>

<script src="./assets/js/FileSaver.min.js"></script>
<script src="./assets/js/jszip.min.js"></script>
<script src="./assets/js/jszip-utils.min.js"></script>
<script src="./assets/js/converter.js"></script>

</body>
</html>
